<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whisky Creek Ramblers Band</title>
    <meta name="description" content="Whiskey Creek Ramblers Band - Americana, Country and Bluegrass music.">
    <meta name="keywords" content="Whiskey Creek Ramblers, Americana, Country, Bluegrass, Music Band">
    <meta name="author" content="Whiskey Creek Ramblers">

    <!-- Add favicon link -->
    <link rel="icon" href="favicon.png" type="image/x-icon">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container px-0">
        <div class="header">
            <div class="header-content">
                <img src="assets/svg/logo-white.svg" class="logo" />
            </div>
        </div>
        <nav class="menu">
            <ul>
                <li>
                    <button class="unstyled-button active" data-menu-index="0">
                        about
                    </button>
                </li>
                <li>
                    <button class="unstyled-button" data-menu-index="1">
                        songs
                    </button>
                </li>
                <li>
                    <button class="unstyled-button" data-menu-index="2">
                        affiliations
                    </button>
                </li>
            </ul>
        </nav>

        <div class="content">
            <div id="carouselExampleIndicators" class="carousel slide">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <h1>about</h1>

                        <p>The Whisky Creek Ramblers are Jeff Sciscilo and Bryan Hadro, two musicians from Northern Virginia area who have been playing together for nearly 25 years.</p>
                        <p>They specialize in playing Americana Rock, Country and Bluegrass covers.</p>
                        <p>For inquiries, please reach out via email: <a href="mailto:whiskycreekramblers@gmail.com">whiskycreekramblers@gmail.com</a></p>
                        <p>Ramble on!</p>
                    </div>
                    <div class="carousel-item">
                        <h1>songs</h1>

                            <table class="table table-striped set-list-table">
                                <thead>
                                <tr>
                                    <th>
                                    <button class="unstyled-button active" data-sort="title">
                                        <span class="label">Song</span>
                                    </button>
                                    </th>
                                    <th>
                                    <button class="unstyled-button" data-sort="artist">
                                        <span class="label">Artist</span>
                                    </button>
                                    </th>
                                </tr>
                                </thead>
                                <tbody></tbody>
                          </table>
                    </div>
                    <div class="carousel-item">
                        <h1>affiliations</h1>
                        <p>We also have several other side-projects and collaborations. Check out our 50's/60's/70's cover band <a href="http://threestrikesband.com" target="_bank">Three Strikes</a>.</p>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <div class="footer-content">
                &copy; Whisky Creek Ramblers 2024
            </div>
        </footer>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script>
    (function($) {

        const CAROUSEL = $('.carousel').carousel({
            "interval": false
        });

        const $MENU_BUTTONS = $(".menu button");
        const $setListTable = $(".set-list-table");
        const $setListTbody = $setListTable.children("tbody");

        // TODO move this into a JSON file loaded via fetch
        const setList = {
            "data": [
                { "title": "Brown Eyed Girl", "artist": "Van Morrison" },
                { "title": "Hello Mary Lou (Goodbye Heart)", "artist": "Ricky Nelson" },
                { "title": "I Don't Want to Spoil the Party", "artist": "The Beatles" },
                { "title": "I Fought the Law", "artist": "The Bobby Fuller Four", "songURL": "https://youtu.be/PHDqZSkmXlk" },
                { "title": "I'll Follow The Sun", "artist": "The Beatles" },
                { "title": "Me and Julio Down by the Schoolyard", "artist": "Paul Simon" },
                { "title": "Runaway", "artist": "Del Shannon" },
                { "title": "Supicious Minds", "artist": "Elvis" },
                { "title": "Centerfield", "artist": "John Fogerty" },
                { "title": "I Won't Back Down", "artist": "Tom Petty" },
                { "title": "American Girl", "artist": "Tom Petty & The Heartbreakers" },
                { "title": "Amsterdam", "artist": "Guster" },
                { "title": "Careful", "artist": "Guster" },
                { "title": "Friend of the Devil", "artist": "The Grateful Dead" },
                { "title": "Wagon Wheel	", "artist": "Old Crow Medicine Show" },
                { "title": "Weight of Lies", "artist": "The Avett Brothers" },
                { "title": "Wildflowers", "artist": "Tom Petty" },
                { "title": "Turnaround", "artist": "Deep Creek Bookends" }
            ]
        };

        function renderSetList(sortBy) {

            sortBy = typeof sortBy==="undefined" ? "title" : sortBy;
            $setListTbody.html("");

            const data = setList.data;

            data.sort(function (a, b) {
                /* theoretically should never be equal and have to return 0 */

                // ignore "The"
                const toIgnore = new RegExp(/^the\s/i);
                const v1 = a[sortBy].replace(toIgnore, '');
                const v2 = b[sortBy].replace(toIgnore, '');

                return (v1 < v2) ? -1 : 1;
            });

            data.forEach((item) => {
                $row = $(`
                    <tr>
                        <td>${item.title}</td>
                        <td>${item.artist}</td>
                    </tr>
                `);

                $setListTbody.append($row);
            });

            // TODO build out list

        }

        renderSetList();

        function handleMenuButtonClick(event) {
            event.preventDefault();

            $button = $(event.target);

            const i = parseInt($button.attr("data-menu-index"));
            CAROUSEL.carousel(i);

            $MENU_BUTTONS.removeClass("active");
            $button.addClass("active");
        }

        $('.menu button').on("click", handleMenuButtonClick);

    }(jQuery));
    </script>
</body>
</html>